<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>游戏开发笔记 | null</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="介绍游戏开发的基本概念。参考《Window游戏编程大师》和《3D游戏编程大师》">
<meta property="og:type" content="article">
<meta property="og:title" content="游戏开发笔记">
<meta property="og:url" content="http://www.loongeek.com/2016/08/01/游戏开发笔记/index.html">
<meta property="og:site_name">
<meta property="og:description" content="介绍游戏开发的基本概念。参考《Window游戏编程大师》和《3D游戏编程大师》">
<meta property="og:updated_time" content="2016-08-18T13:58:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="游戏开发笔记">
<meta name="twitter:description" content="介绍游戏开发的基本概念。参考《Window游戏编程大师》和《3D游戏编程大师》">
  
    <link rel="alternative" href="atom.xml" title="null" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">null</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Loongeek’s Blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">存档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.loongeek.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post_catalog-游戏开发笔记" class="article article-type-post_catalog" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/01/游戏开发笔记/" class="article-date">
  <time datetime="2016-07-31T16:00:00.000Z" itemprop="datePublished">2016-08-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/软件/">软件</a>►<a class="article-category-link" href="/categories/软件/游戏开发/">游戏开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      游戏开发笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      

    <ol class="toc" ><li class="toc-item toc-level-1"><a class="toc-link" href="#Windows游戏编程大师"><span class="toc-text">Windows游戏编程大师</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概念"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#架构"><span class="toc-text">架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图形库"><span class="toc-text">图形库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#矢量光栅化"><span class="toc-text">矢量光栅化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输入"><span class="toc-text">输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#声音"><span class="toc-text">声音</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AI"><span class="toc-text">AI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#物理学"><span class="toc-text">物理学</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文字游戏"><span class="toc-text">文字游戏</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3D游戏编程大师"><span class="toc-text">3D游戏编程大师</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概念-1"><span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#坐标"><span class="toc-text">坐标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#光照"><span class="toc-text">光照</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3d裁剪"><span class="toc-text">3d裁剪</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Z缓存"><span class="toc-text">Z缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#空间划分"><span class="toc-text">空间划分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#动画"><span class="toc-text">动画</span></a></li></ol></li></ol>

        <p>介绍游戏开发的基本概念。参考《Window游戏编程大师》和《3D游戏编程大师》<br><a id="more"></a></p>
<h1 id="Windows游戏编程大师">Windows游戏编程大师</h1><h2 id="概念">概念</h2><ul>
<li>游戏点子不难，关键是细节，最终实现和视觉效果</li>
<li>游戏分类：FPS 运动 格斗 横版 机械模拟 模拟经营 RTS 交互 怀旧 智力棋牌</li>
<li>游戏的核心细节：关卡与规则</li>
</ul>
<h2 id="架构">架构</h2><ul>
<li>游戏循环状态图：</li>
<li>DirectX架构,部件功能</li>
<li>HAL和HEL</li>
</ul>
<h2 id="图形库">图形库</h2><ul>
<li><code>SetDisplayMode</code><br>  色彩模式：Index, 16位（5，6，5或者5,5,5）,24位<br>  内存锁定：与显示设备同步，互斥显存</li>
<li>技巧：用移位和加法实现乘法</li>
<li>双缓冲技术，三缓冲技术<br>  页面切换流程</li>
<li>显存块填充blitter。裁剪序列？？ 精灵的概念。</li>
<li>位图：独立式，合并式。blitter透明背景<br>  位图采样：前向映射（根据位图点计算结果，再插值到屏幕点），反向映射（根据屏幕点计算位图坐标，在位图上插值）</li>
<li>色彩索引可以用来实现动画</li>
<li>色彩旋转技术（模拟水或液体流动效果）</li>
<li>Color整体控制(亮度，对比，色调，饱和，锐度，gamma等)</li>
<li>GDI可以结合使用来绘制GUI,文字，HUD（注意：窗口模式下，主表面是整个屏幕）</li>
</ul>
<h2 id="矢量光栅化">矢量光栅化</h2><ul>
<li>画线：Bresenham算法，XiaoLon Wu算法 对称二步 4模式画线</li>
<li>线的剪裁：Cohen-Sutherland 分区编码算法</li>
<li>旋转：三角函数可以用查找表实现<br>  旋转存在累积误差，需要保留原始坐标，然后从原始坐标计算旋转结果</li>
<li>三角形光栅化： 普通拆分成平顶+平底的两个三角形；要注意不要重复画公共边</li>
<li>裁剪最好在屏幕空间对扫描线直接裁剪</li>
<li>凸多边形光栅化：拆分成三角形，在对象空间裁剪，然后直接按斜率变化扫描</li>
<li>碰撞：平均半径法，边界圆，边界盒</li>
<li>点包含：检查点是否在凸多边形每个边的内侧</li>
<li>页面卷轴：按窗口页面走到边缘直接切换到下一个页面</li>
<li>均匀平铺：裁剪+显示</li>
<li>稀疏位图：分区，对象位置列表</li>
<li>伪3d等轴（斜45度视角）<ul>
<li>单元式：全画成2d，按图层顺序绘制（基于6边形或8边形，碰撞检测算法较难）</li>
<li>全屏式：画地图+辅助碰撞图层</li>
<li>3d式：3d场景，固定相机视角</li>
</ul>
</li>
</ul>
<h2 id="输入">输入</h2><ul>
<li>放在移动前处理</li>
<li>鼠标绝对位置和相对位置的处理</li>
<li>游戏杆死区:中心区域，在这个区域中游戏杆视做原地不动</li>
</ul>
<h2 id="声音">声音</h2><ul>
<li>数字音（声效），MIDI(音乐)</li>
<li>波表+DSP -&gt; MIDI</li>
<li>流输出格式 </li>
</ul>
<h2 id="AI">AI</h2><ul>
<li>分类：确定性，随机性，跟踪算法，反跟踪算法</li>
<li>模式：基本模式-脚本，合理运动反馈-图？？，带条件的模式<br>  状态——模式图</li>
<li>个性化（逻辑/跟踪中加入概率分布），记忆和学习建模</li>
<li>计划树与决策树：<br>  产生式， 决策树， 计划生成器（子计划合并，计划目标剔除和检查等）</li>
<li>寻路：试探法，轮廓跟踪，虚轨迹法，路点寻路法，可靠寻路（广度优先，双向广度优先，深度优先，Dijstra,A*）</li>
<li>高级AI:人工神经网络，遗传算法，Fuzzy（模糊输入-输出图）</li>
</ul>
<h2 id="物理学">物理学</h2><ul>
<li>相对质量，相对时间</li>
<li>质心通常可以按几何中心算</li>
<li>动量守恒</li>
<li>万有引力，摩擦力</li>
<li>简单反弹，动量反弹，弹性反弹</li>
<li>FK(从根到叶，根据运动参数正向计算位置等), IK(从叶到根，根据位置和状态反向计算运动参数等)</li>
<li>粒子系统：位置，速度，颜色/动画，生命周期，重力，风力等等</li>
</ul>
<h2 id="文字游戏">文字游戏</h2><ul>
<li>文法分析器引擎。</li>
<li>FOV扫描器？？</li>
</ul>
<h1 id="3D游戏编程大师">3D游戏编程大师</h1><h2 id="概念-1">概念</h2><ul>
<li>优先设计游戏引擎</li>
<li>运动（简单，复杂(.BVH),物理学）</li>
<li>碰撞，巡航-&gt;物理引擎-&gt;AI</li>
<li>3d模型：网格，2d纹理，光照图，3d世界，运动和动画数据，游戏地图数据</li>
</ul>
<h2 id="坐标">坐标</h2><ul>
<li>坐标：模型坐标，世界坐标，相机坐标（棱台型），透视坐标，屏幕坐标</li>
<li>背面消除：根据面法线与观察向量的夹角消除</li>
<li>世界坐标-&gt;相机坐标：包围球测试，5点判断法</li>
<li>透视变换：裁剪 线段等无体积对象</li>
<li>3d流水线：图略</li>
<li>旋转顺序：欧拉相机(世界坐标)，UVN相机，Lookat坐标</li>
</ul>
<h2 id="光照">光照</h2><ul>
<li>flat, faceted着色</li>
<li>gouraud着色(面片上线性插值)</li>
<li>phong着色(法线插值)</li>
<li>画家算法（一层层着色）</li>
<li>仿射纹理：用着色的方式计算纹理（将着色算法计算color换成计算(u,v)）</li>
<li>纹理采样技术：纹理插值，双线性插值，uv平面上插值</li>
</ul>
<h2 id="3d裁剪">3d裁剪</h2><ul>
<li>只考虑近裁剪面</li>
<li>三角形裁剪2种情形，及分割</li>
<li>地形显示：地形分区，高程图+纹理映射</li>
<li>汽车物理模型：1）动量，2）上下移动相机，3） v+g,a的简化模型，地形梯度修正车头，物理稳定性，避免振荡</li>
</ul>
<h2 id="Z缓存">Z缓存</h2><ul>
<li>z排序算法：1)重叠测试 2）包围框 3）半空间 4) 透视<br>  循环遮盖的情况下需要分割面</li>
<li>z缓存：像素级z排序<br>  屏幕空间中，z不是线性的，但是1/z是线性的<br>  混合z缓存图<br>  水波模拟：用正弦波或其它函数对地面进行调制</li>
<li>透视修正插值：利用1/z的线性来做<br>  仿射和透视修正的区别图<br>  透视曲线的分段线性化：普通，二次近似，混合法（按远近划分处理）</li>
<li>双线性纹理滤波：与双线性插值相同</li>
<li>Mipmapping：大小不同的面使用相同精度的纹理会出现闪烁，低频走样和波纹。<ul>
<li>mip链，纹理按1/4比例缩小，直到1x1。根据面的大小选用不同大小的纹理</li>
<li>用滤波器处理</li>
<li>按面积投影和视距选择</li>
<li>投射方式：1）按面积 2）按z值（纹理坐标缩小，与mip等级对应）</li>
</ul>
</li>
<li>三线性滤波：mipmapping+双线性滤波</li>
<li>多次渲染+alpha混合实现倒影？？</li>
</ul>
<h2 id="空间划分">空间划分</h2><ul>
<li>二元划分-&gt;BSP树 （半静态，有些情况可以平移不影响树，但不支持旋转）</li>
<li>划分方法：平行于坐标轴，基于任意平面，基于多边形面（试探方法0.1%~1%）</li>
<li>划分可以用来做 1)背面剔除 2）视景体剔除</li>
<li>立方体包围体+八叉树</li>
<li>混合型遮掩物选择<br>  遍历物体-&gt;投影面积，计算内接矩形-&gt;遮掩体</li>
<li>阴影：阴影位图法，缩放、旋转、随光源进行错切</li>
<li>光照图(light map):预先生成光照效果，再叠加到纹理上（光照图的分辨率可以很低）</li>
</ul>
<h2 id="动画">动画</h2><ul>
<li>旋转+平移</li>
<li>参数化曲线运动轨迹</li>
<li>脚本运动</li>
<li>地形跟踪：<br>  地形分片，每个分片计算平均高度<br>  用物体中心计算交点<br>  用轮胎接触点交点<br>  旋转，用地形法向量做旋转<!--less-->
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.loongeek.com/2016/08/01/游戏开发笔记/" data-id="cis0exgm0000upjjfdk5qtqo1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Game/">Game</a></li></ul>

      
	  	<a id="back-to-top" href="javascript:scroll(0,0);"><i class="icon" id="icon-angle-up"></i></a>
	  
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/08/01/Design-Pattern-Notes/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Design Pattern Notes
        
      </div>
    </a>
  
  
    <a href="/2016/08/01/术语汇总/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">术语汇总</div>
    </a>
  
</nav>

  
</article>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CG/">CG</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CG/Blender/">Blender</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CG/理论/">理论</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/外语/">外语</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/文学/">文学</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/文学/随笔/">随笔</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/">软件</a><span class="category-list-count">38</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/软件/App/">App</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/GUI/">GUI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/后端/">后端</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/工具/">工具</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/游戏开发/">游戏开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/理论/">理论</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/语言/">语言</a><span class="category-list-count">9</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/App/" style="font-size: 20px; color: #fa6">App</a> <a href="/tags/Backend/" style="font-size: 10px; color: #636">Backend</a> <a href="/tags/Blender/" style="font-size: 14px; color: #a36366">Blender</a> <a href="/tags/C/" style="font-size: 10px; color: #636">C</a> <a href="/tags/CG/" style="font-size: 10px; color: #636">CG</a> <a href="/tags/Database/" style="font-size: 10px; color: #636">Database</a> <a href="/tags/English/" style="font-size: 10px; color: #636">English</a> <a href="/tags/Frontend/" style="font-size: 10px; color: #636">Frontend</a> <a href="/tags/Game/" style="font-size: 10px; color: #636">Game</a> <a href="/tags/Git/" style="font-size: 10px; color: #636">Git</a> <a href="/tags/Hexo/" style="font-size: 12px; color: #854b66">Hexo</a> <a href="/tags/IDE/" style="font-size: 10px; color: #636">IDE</a> <a href="/tags/IOS/" style="font-size: 20px; color: #fa6">IOS</a> <a href="/tags/Java/" style="font-size: 16px; color: #c27a66">Java</a> <a href="/tags/Lua/" style="font-size: 10px; color: #636">Lua</a> <a href="/tags/Macbook/" style="font-size: 10px; color: #636">Macbook</a> <a href="/tags/Markdown/" style="font-size: 10px; color: #636">Markdown</a> <a href="/tags/Notes/" style="font-size: 14px; color: #a36366">Notes</a> <a href="/tags/Plugin/" style="font-size: 10px; color: #636">Plugin</a> <a href="/tags/Programming-Language/" style="font-size: 18px; color: #e09266">Programming Language</a> <a href="/tags/Python/" style="font-size: 10px; color: #636">Python</a> <a href="/tags/Ruby/" style="font-size: 14px; color: #a36366">Ruby</a> <a href="/tags/SSH/" style="font-size: 10px; color: #636">SSH</a> <a href="/tags/Swift/" style="font-size: 10px; color: #636">Swift</a> <a href="/tags/Swing/" style="font-size: 10px; color: #636">Swing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/17/RSpec学习/">RSpec学习</a>
          </li>
        
          <li>
            <a href="/2016/08/12/Gem-Gemfile-Bundle/">Gem,Gemfile,Bundle</a>
          </li>
        
          <li>
            <a href="/2016/08/11/Rack学习笔记/">Rack学习笔记</a>
          </li>
        
          <li>
            <a href="/2016/08/01/零碎知识点/">零碎知识点</a>
          </li>
        
          <li>
            <a href="/2016/08/01/数据库基础理论笔记/">数据库基础理论笔记</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">About</h3>
    <div class="widget">
	mail: wizardof21cn@163.com
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
<div class="outer">
    <div id="footer-info" class="inner">
	<p>&copy; 2016 Loongeek</p>
    <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">存档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>